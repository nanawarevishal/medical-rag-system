2026-01-31 19:53:38 - rag_app - INFO - [main.py:1245] - Storage directories initialized: data/uploads, data/cached_chunks
2026-01-31 19:53:38 - rag_app - INFO - [main.py:1247] - ============================================================
2026-01-31 19:53:38 - rag_app - INFO - [main.py:1248] - Starting Multi-Source RAG + Text-to-SQL API...
2026-01-31 19:53:38 - rag_app - INFO - [main.py:1249] - ============================================================
2026-01-31 19:53:38 - rag_app - INFO - [main.py:1250] - Phase 0: Foundation Setup - COMPLETE
2026-01-31 19:53:38 - rag_app - INFO - [main.py:1251] - Phase 1: Document RAG MVP - COMPLETE
2026-01-31 19:53:38 - rag_app - INFO - [main.py:1252] - Phase 2: Text-to-SQL Foundation - COMPLETE
2026-01-31 19:53:38 - rag_app - INFO - [main.py:1253] - Phase 3: Query Routing - COMPLETE
2026-01-31 19:53:38 - rag_app - INFO - [main.py:1254] - Phase 4: Evaluation & Monitoring - COMPLETE
2026-01-31 19:53:38 - rag_app - INFO - [main.py:1255] - Phase 5: Polish & Documentation - COMPLETE
2026-01-31 19:53:38 - rag_app - INFO - [main.py:1256] - Phase 6: Docker Deployment - COMPLETE
2026-01-31 19:53:38 - rag_app - INFO - [main.py:1257] - ============================================================
2026-01-31 19:53:38 - rag_app - INFO - [main.py:1258] - ALL PHASES COMPLETE - PRODUCTION READY!
2026-01-31 19:53:38 - rag_app - INFO - [main.py:1259] - ============================================================
2026-01-31 19:53:38 - rag_app - INFO - [main.py:1265] - Initializing OPIK monitoring...
2026-01-31 19:53:39 - rag_app - INFO - [main.py:1282] - ✓ OPIK monitoring initialized!
2026-01-31 19:53:39 - rag_app - INFO - [main.py:1301] - Initializing query cache service (Redis)...
2026-01-31 19:53:40 - rag_app - INFO - [main.py:1306] - ✓ Query cache service initialized and connected!
2026-01-31 19:53:40 - rag_app - INFO - [main.py:1307] -   Cache TTL: RAG=3600s, Embeddings=604800s, SQL Gen=86400s, SQL Results=900s
2026-01-31 19:53:40 - rag_app - INFO - [main.py:1325] - Initializing Document RAG services...
2026-01-31 19:53:41 - rag_app.vector_service - INFO - [vector_service.py:63] - Connected to Pinecone index: rag-documents
2026-01-31 19:53:41 - rag_app - INFO - [main.py:1332] - ✓ Document RAG services initialized!
2026-01-31 19:53:41 - rag_app - INFO - [main.py:1343] - Initializing Text-to-SQL service...
2026-01-31 19:53:42 - rag_app.sql_service - INFO - [sql_service.py:68] - Configuring SQL LLM with deterministic settings: temperature=0.0, top_p=0.1, seed=42
2026-01-31 19:53:45 - rag_app.sql_service - INFO - [sql_service.py:115] - Using Pinecone for SQL Agent memory (index: vanna-sql-training)
2026-01-31 19:53:45 - rag_app.sql_service - INFO - [sql_service.py:135] - ✓ Vanna 2.0 Agent initialized successfully
2026-01-31 19:53:45 - rag_app - INFO - [main.py:1347] - Training Vanna on database schema and examples...
2026-01-31 19:53:45 - rag_app.sql_service - INFO - [sql_service.py:342] - Preparing schema context for Vanna 2.0...
2026-01-31 19:53:45 - rag_app.sql_service - INFO - [sql_service.py:348] - ✓ Schema context prepared for Vanna 2.0 Agent!
2026-01-31 19:53:45 - rag_app - INFO - [main.py:1349] - ✓ Text-to-SQL service initialized and trained!
2026-01-31 19:53:45 - rag_app - INFO - [main.py:1360] - Initializing document cache service (S3/local)...
2026-01-31 19:53:54 - rag_app - ERROR - [main.py:1364] - ✗ Failed to initialize document cache service: Unknown storage backend: s3 # options: local, s3
2026-01-31 19:53:54 - rag_app - WARNING - [main.py:1365] - Document uploads will work but caching will be unavailable.
2026-01-31 19:53:54 - rag_app - INFO - [main.py:1367] - ============================================================
2026-01-31 19:53:54 - rag_app - INFO - [main.py:1368] - API is ready!
2026-01-31 19:53:54 - rag_app - INFO - [main.py:1369] - ============================================================
2026-01-31 20:11:52 - rag_app.sql_service - INFO - [sql_service.py:513] - SQL generation cache MISS - cached for 'Show me the total revenue generated by Enterprise ...' (TTL: 86400s)
2026-01-31 20:14:07 - rag_app.sql_service - INFO - [sql_service.py:232] - Executing SQL directly: SELECT SUM(o.total_amount) as total_revenue FROM customers c JOIN orders o ON c.id = o.customer_id W...
2026-01-31 20:14:07 - rag_app.sql_service - INFO - [sql_service.py:255] - Resolved aws-1-ap-northeast-1.pooler.supabase.com to IPv4: 18.176.230.146
2026-01-31 20:14:08 - rag_app.sql_service - INFO - [sql_service.py:279] - ✓ SQL executed successfully: 1 rows returned
2026-01-31 20:14:09 - rag_app.sql_service - INFO - [sql_service.py:615] - SQL result cache MISS - cached for 'SELECT SUM(o.total_amount) as total_revenue FROM c...' (TTL: 900s)
2026-01-31 20:15:56 - rag_app.sql_service - INFO - [sql_service.py:470] - SQL generation cache HIT for question: 'Show me the total revenue generated by Enterprise ...'
2026-01-31 20:18:17 - rag_app - INFO - [main.py:1245] - Storage directories initialized: data/uploads, data/cached_chunks
2026-01-31 20:18:17 - rag_app - INFO - [main.py:1247] - ============================================================
2026-01-31 20:18:17 - rag_app - INFO - [main.py:1248] - Starting Multi-Source RAG + Text-to-SQL API...
2026-01-31 20:18:17 - rag_app - INFO - [main.py:1249] - ============================================================
2026-01-31 20:18:17 - rag_app - INFO - [main.py:1250] - Phase 0: Foundation Setup - COMPLETE
2026-01-31 20:18:17 - rag_app - INFO - [main.py:1251] - Phase 1: Document RAG MVP - COMPLETE
2026-01-31 20:18:17 - rag_app - INFO - [main.py:1252] - Phase 2: Text-to-SQL Foundation - COMPLETE
2026-01-31 20:18:17 - rag_app - INFO - [main.py:1253] - Phase 3: Query Routing - COMPLETE
2026-01-31 20:18:17 - rag_app - INFO - [main.py:1254] - Phase 4: Evaluation & Monitoring - COMPLETE
2026-01-31 20:18:17 - rag_app - INFO - [main.py:1255] - Phase 5: Polish & Documentation - COMPLETE
2026-01-31 20:18:17 - rag_app - INFO - [main.py:1256] - Phase 6: Docker Deployment - COMPLETE
2026-01-31 20:18:17 - rag_app - INFO - [main.py:1257] - ============================================================
2026-01-31 20:18:17 - rag_app - INFO - [main.py:1258] - ALL PHASES COMPLETE - PRODUCTION READY!
2026-01-31 20:18:17 - rag_app - INFO - [main.py:1259] - ============================================================
2026-01-31 20:18:17 - rag_app - INFO - [main.py:1265] - Initializing OPIK monitoring...
2026-01-31 20:18:18 - rag_app - INFO - [main.py:1282] - ✓ OPIK monitoring initialized!
2026-01-31 20:18:18 - rag_app - INFO - [main.py:1301] - Initializing query cache service (Redis)...
2026-01-31 20:18:18 - rag_app - INFO - [main.py:1306] - ✓ Query cache service initialized and connected!
2026-01-31 20:18:18 - rag_app - INFO - [main.py:1307] -   Cache TTL: RAG=3600s, Embeddings=604800s, SQL Gen=86400s, SQL Results=900s
2026-01-31 20:18:18 - rag_app - INFO - [main.py:1325] - Initializing Document RAG services...
2026-01-31 20:18:20 - rag_app.vector_service - INFO - [vector_service.py:63] - Connected to Pinecone index: rag-documents
2026-01-31 20:18:20 - rag_app - INFO - [main.py:1332] - ✓ Document RAG services initialized!
2026-01-31 20:18:20 - rag_app - INFO - [main.py:1343] - Initializing Text-to-SQL service...
2026-01-31 20:18:20 - rag_app.sql_service - INFO - [sql_service.py:68] - Configuring SQL LLM with deterministic settings: temperature=0.0, top_p=0.1, seed=42
2026-01-31 20:18:20 - rag_app.sql_service - INFO - [sql_service.py:115] - Using Pinecone for SQL Agent memory (index: vanna-sql-training)
2026-01-31 20:18:20 - rag_app.sql_service - INFO - [sql_service.py:135] - ✓ Vanna 2.0 Agent initialized successfully
2026-01-31 20:18:20 - rag_app - INFO - [main.py:1347] - Training Vanna on database schema and examples...
2026-01-31 20:18:20 - rag_app.sql_service - INFO - [sql_service.py:342] - Preparing schema context for Vanna 2.0...
2026-01-31 20:18:20 - rag_app.sql_service - INFO - [sql_service.py:348] - ✓ Schema context prepared for Vanna 2.0 Agent!
2026-01-31 20:18:20 - rag_app - INFO - [main.py:1349] - ✓ Text-to-SQL service initialized and trained!
2026-01-31 20:18:20 - rag_app - INFO - [main.py:1360] - Initializing document cache service (S3/local)...
2026-01-31 20:18:25 - rag_app - ERROR - [main.py:1364] - ✗ Failed to initialize document cache service: Unknown storage backend: s3 # options: local, s3
2026-01-31 20:18:25 - rag_app - WARNING - [main.py:1365] - Document uploads will work but caching will be unavailable.
2026-01-31 20:18:25 - rag_app - INFO - [main.py:1367] - ============================================================
2026-01-31 20:18:25 - rag_app - INFO - [main.py:1368] - API is ready!
2026-01-31 20:18:25 - rag_app - INFO - [main.py:1369] - ============================================================
2026-01-31 20:19:54 - rag_app - INFO - [main.py:1245] - Storage directories initialized: data/uploads, data/cached_chunks
2026-01-31 20:19:54 - rag_app - INFO - [main.py:1247] - ============================================================
2026-01-31 20:19:54 - rag_app - INFO - [main.py:1248] - Starting Multi-Source RAG + Text-to-SQL API...
2026-01-31 20:19:54 - rag_app - INFO - [main.py:1249] - ============================================================
2026-01-31 20:19:54 - rag_app - INFO - [main.py:1250] - Phase 0: Foundation Setup - COMPLETE
2026-01-31 20:19:54 - rag_app - INFO - [main.py:1251] - Phase 1: Document RAG MVP - COMPLETE
2026-01-31 20:19:54 - rag_app - INFO - [main.py:1252] - Phase 2: Text-to-SQL Foundation - COMPLETE
2026-01-31 20:19:54 - rag_app - INFO - [main.py:1253] - Phase 3: Query Routing - COMPLETE
2026-01-31 20:19:54 - rag_app - INFO - [main.py:1254] - Phase 4: Evaluation & Monitoring - COMPLETE
2026-01-31 20:19:54 - rag_app - INFO - [main.py:1255] - Phase 5: Polish & Documentation - COMPLETE
2026-01-31 20:19:54 - rag_app - INFO - [main.py:1256] - Phase 6: Docker Deployment - COMPLETE
2026-01-31 20:19:54 - rag_app - INFO - [main.py:1257] - ============================================================
2026-01-31 20:19:54 - rag_app - INFO - [main.py:1258] - ALL PHASES COMPLETE - PRODUCTION READY!
2026-01-31 20:19:54 - rag_app - INFO - [main.py:1259] - ============================================================
2026-01-31 20:19:54 - rag_app - INFO - [main.py:1265] - Initializing OPIK monitoring...
2026-01-31 20:19:55 - rag_app - INFO - [main.py:1282] - ✓ OPIK monitoring initialized!
2026-01-31 20:19:55 - rag_app - INFO - [main.py:1301] - Initializing query cache service (Redis)...
2026-01-31 20:19:55 - rag_app - INFO - [main.py:1306] - ✓ Query cache service initialized and connected!
2026-01-31 20:19:55 - rag_app - INFO - [main.py:1307] -   Cache TTL: RAG=3600s, Embeddings=604800s, SQL Gen=86400s, SQL Results=900s
2026-01-31 20:19:55 - rag_app - INFO - [main.py:1325] - Initializing Document RAG services...
2026-01-31 20:19:57 - rag_app.vector_service - INFO - [vector_service.py:63] - Connected to Pinecone index: rag-documents
2026-01-31 20:19:57 - rag_app - INFO - [main.py:1332] - ✓ Document RAG services initialized!
2026-01-31 20:19:57 - rag_app - INFO - [main.py:1343] - Initializing Text-to-SQL service...
2026-01-31 20:19:57 - rag_app.sql_service - INFO - [sql_service.py:68] - Configuring SQL LLM with deterministic settings: temperature=0.0, top_p=0.1, seed=42
2026-01-31 20:19:58 - rag_app.sql_service - INFO - [sql_service.py:115] - Using Pinecone for SQL Agent memory (index: vanna-sql-training)
2026-01-31 20:19:58 - rag_app.sql_service - INFO - [sql_service.py:135] - ✓ Vanna 2.0 Agent initialized successfully
2026-01-31 20:19:58 - rag_app - INFO - [main.py:1347] - Training Vanna on database schema and examples...
2026-01-31 20:19:58 - rag_app.sql_service - INFO - [sql_service.py:342] - Preparing schema context for Vanna 2.0...
2026-01-31 20:19:58 - rag_app.sql_service - INFO - [sql_service.py:348] - ✓ Schema context prepared for Vanna 2.0 Agent!
2026-01-31 20:19:58 - rag_app - INFO - [main.py:1349] - ✓ Text-to-SQL service initialized and trained!
2026-01-31 20:19:58 - rag_app - INFO - [main.py:1360] - Initializing document cache service (S3/local)...
2026-01-31 20:20:02 - rag_app - ERROR - [main.py:1364] - ✗ Failed to initialize document cache service: Unknown storage backend: s3 # options: local, s3
2026-01-31 20:20:02 - rag_app - WARNING - [main.py:1365] - Document uploads will work but caching will be unavailable.
2026-01-31 20:20:02 - rag_app - INFO - [main.py:1367] - ============================================================
2026-01-31 20:20:02 - rag_app - INFO - [main.py:1368] - API is ready!
2026-01-31 20:20:02 - rag_app - INFO - [main.py:1369] - ============================================================
2026-01-31 20:21:08 - rag_app.sql_service - INFO - [sql_service.py:513] - SQL generation cache MISS - cached for 'List all product categories where the average pric...' (TTL: 86400s)
2026-01-31 20:21:40 - rag_app.sql_service - INFO - [sql_service.py:232] - Executing SQL directly: SELECT category FROM products WHERE price > 100 GROUP BY category HAVING SUM(stock_quantity) > 10;...
2026-01-31 20:21:40 - rag_app.sql_service - INFO - [sql_service.py:255] - Resolved aws-1-ap-northeast-1.pooler.supabase.com to IPv4: 18.176.230.146
2026-01-31 20:21:41 - rag_app.sql_service - INFO - [sql_service.py:279] - ✓ SQL executed successfully: 6 rows returned
2026-01-31 20:21:41 - rag_app.sql_service - INFO - [sql_service.py:615] - SQL result cache MISS - cached for 'SELECT category FROM products WHERE price > 100 GR...' (TTL: 900s)
2026-01-31 22:30:26 - rag_app - INFO - [main.py:1245] - Storage directories initialized: data/uploads, data/cached_chunks
2026-01-31 22:30:26 - rag_app - INFO - [main.py:1247] - ============================================================
2026-01-31 22:30:26 - rag_app - INFO - [main.py:1248] - Starting Multi-Source RAG + Text-to-SQL API...
2026-01-31 22:30:26 - rag_app - INFO - [main.py:1249] - ============================================================
2026-01-31 22:30:26 - rag_app - INFO - [main.py:1250] - Phase 0: Foundation Setup - COMPLETE
2026-01-31 22:30:26 - rag_app - INFO - [main.py:1251] - Phase 1: Document RAG MVP - COMPLETE
2026-01-31 22:30:26 - rag_app - INFO - [main.py:1252] - Phase 2: Text-to-SQL Foundation - COMPLETE
2026-01-31 22:30:26 - rag_app - INFO - [main.py:1253] - Phase 3: Query Routing - COMPLETE
2026-01-31 22:30:26 - rag_app - INFO - [main.py:1254] - Phase 4: Evaluation & Monitoring - COMPLETE
2026-01-31 22:30:26 - rag_app - INFO - [main.py:1255] - Phase 5: Polish & Documentation - COMPLETE
2026-01-31 22:30:26 - rag_app - INFO - [main.py:1256] - Phase 6: Docker Deployment - COMPLETE
2026-01-31 22:30:26 - rag_app - INFO - [main.py:1257] - ============================================================
2026-01-31 22:30:26 - rag_app - INFO - [main.py:1258] - ALL PHASES COMPLETE - PRODUCTION READY!
2026-01-31 22:30:26 - rag_app - INFO - [main.py:1259] - ============================================================
2026-01-31 22:30:26 - rag_app - INFO - [main.py:1265] - Initializing OPIK monitoring...
2026-01-31 22:30:26 - rag_app - INFO - [main.py:1282] - ✓ OPIK monitoring initialized!
2026-01-31 22:30:26 - rag_app - INFO - [main.py:1301] - Initializing query cache service (Redis)...
2026-01-31 22:30:27 - rag_app - INFO - [main.py:1306] - ✓ Query cache service initialized and connected!
2026-01-31 22:30:27 - rag_app - INFO - [main.py:1307] -   Cache TTL: RAG=3600s, Embeddings=604800s, SQL Gen=86400s, SQL Results=900s
2026-01-31 22:30:27 - rag_app - INFO - [main.py:1325] - Initializing Document RAG services...
2026-01-31 22:30:29 - rag_app.vector_service - INFO - [vector_service.py:63] - Connected to Pinecone index: rag-documents
2026-01-31 22:30:29 - rag_app - INFO - [main.py:1332] - ✓ Document RAG services initialized!
2026-01-31 22:30:29 - rag_app - INFO - [main.py:1343] - Initializing Text-to-SQL service...
2026-01-31 22:30:29 - rag_app.sql_service - INFO - [sql_service.py:68] - Configuring SQL LLM with deterministic settings: temperature=0.0, top_p=0.1, seed=42
2026-01-31 22:30:29 - rag_app.sql_service - INFO - [sql_service.py:115] - Using Pinecone for SQL Agent memory (index: vanna-sql-training)
2026-01-31 22:30:29 - rag_app.sql_service - INFO - [sql_service.py:135] - ✓ Vanna 2.0 Agent initialized successfully
2026-01-31 22:30:29 - rag_app - INFO - [main.py:1347] - Training Vanna on database schema and examples...
2026-01-31 22:30:29 - rag_app.sql_service - INFO - [sql_service.py:342] - Preparing schema context for Vanna 2.0...
2026-01-31 22:30:29 - rag_app.sql_service - INFO - [sql_service.py:348] - ✓ Schema context prepared for Vanna 2.0 Agent!
2026-01-31 22:30:29 - rag_app - INFO - [main.py:1349] - ✓ Text-to-SQL service initialized and trained!
2026-01-31 22:30:29 - rag_app - INFO - [main.py:1360] - Initializing document cache service (S3/local)...
2026-01-31 22:30:35 - rag_app - ERROR - [main.py:1364] - ✗ Failed to initialize document cache service: Unknown storage backend: s3 # options: local, s3
2026-01-31 22:30:35 - rag_app - WARNING - [main.py:1365] - Document uploads will work but caching will be unavailable.
2026-01-31 22:30:35 - rag_app - INFO - [main.py:1367] - ============================================================
2026-01-31 22:30:35 - rag_app - INFO - [main.py:1368] - API is ready!
2026-01-31 22:30:35 - rag_app - INFO - [main.py:1369] - ============================================================
2026-01-31 22:31:10 - rag_app.sql_service - INFO - [sql_service.py:513] - SQL generation cache MISS - cached for 'Give me a breakdown of the percentage of orders th...' (TTL: 86400s)
2026-01-31 22:31:28 - rag_app.sql_service - INFO - [sql_service.py:232] - Executing SQL directly: SELECT c.country, 
       SUM(CASE WHEN o.status = 'Cancelled' THEN 1 ELSE 0 END) * 100.0 / COUNT(o....
2026-01-31 22:31:28 - rag_app.sql_service - INFO - [sql_service.py:255] - Resolved aws-1-ap-northeast-1.pooler.supabase.com to IPv4: 57.182.231.186
2026-01-31 22:31:29 - rag_app.sql_service - INFO - [sql_service.py:279] - ✓ SQL executed successfully: 8 rows returned
2026-01-31 22:31:29 - rag_app.sql_service - INFO - [sql_service.py:615] - SQL result cache MISS - cached for 'SELECT c.country, 
       SUM(CASE WHEN o.status =...' (TTL: 900s)
2026-02-10 22:25:55 - rag_app - INFO - [main.py:1245] - Storage directories initialized: data/uploads, data/cached_chunks
2026-02-10 22:25:55 - rag_app - INFO - [main.py:1247] - ============================================================
2026-02-10 22:25:55 - rag_app - INFO - [main.py:1248] - Starting Multi-Source RAG + Text-to-SQL API...
2026-02-10 22:25:55 - rag_app - INFO - [main.py:1249] - ============================================================
2026-02-10 22:25:55 - rag_app - INFO - [main.py:1250] - Phase 0: Foundation Setup - COMPLETE
2026-02-10 22:25:55 - rag_app - INFO - [main.py:1251] - Phase 1: Document RAG MVP - COMPLETE
2026-02-10 22:25:55 - rag_app - INFO - [main.py:1252] - Phase 2: Text-to-SQL Foundation - COMPLETE
2026-02-10 22:25:55 - rag_app - INFO - [main.py:1253] - Phase 3: Query Routing - COMPLETE
2026-02-10 22:25:55 - rag_app - INFO - [main.py:1254] - Phase 4: Evaluation & Monitoring - COMPLETE
2026-02-10 22:25:55 - rag_app - INFO - [main.py:1255] - Phase 5: Polish & Documentation - COMPLETE
2026-02-10 22:25:55 - rag_app - INFO - [main.py:1256] - Phase 6: Docker Deployment - COMPLETE
2026-02-10 22:25:55 - rag_app - INFO - [main.py:1257] - ============================================================
2026-02-10 22:25:55 - rag_app - INFO - [main.py:1258] - ALL PHASES COMPLETE - PRODUCTION READY!
2026-02-10 22:25:55 - rag_app - INFO - [main.py:1259] - ============================================================
2026-02-10 22:25:55 - rag_app - INFO - [main.py:1265] - Initializing OPIK monitoring...
2026-02-10 22:25:56 - rag_app - INFO - [main.py:1282] - ✓ OPIK monitoring initialized!
2026-02-10 22:25:56 - rag_app - INFO - [main.py:1301] - Initializing query cache service (Redis)...
2026-02-10 22:25:57 - rag_app - INFO - [main.py:1306] - ✓ Query cache service initialized and connected!
2026-02-10 22:25:57 - rag_app - INFO - [main.py:1307] -   Cache TTL: RAG=3600s, Embeddings=604800s, SQL Gen=86400s, SQL Results=900s
2026-02-10 22:25:57 - rag_app - INFO - [main.py:1325] - Initializing Document RAG services...
2026-02-10 22:25:59 - rag_app.vector_service - INFO - [vector_service.py:63] - Connected to Pinecone index: rag-documents
2026-02-10 22:25:59 - rag_app - INFO - [main.py:1332] - ✓ Document RAG services initialized!
2026-02-10 22:25:59 - rag_app - INFO - [main.py:1343] - Initializing Text-to-SQL service...
2026-02-10 22:25:59 - rag_app.sql_service - INFO - [sql_service.py:68] - Configuring SQL LLM with deterministic settings: temperature=0.0, top_p=0.1, seed=42
2026-02-10 22:26:03 - rag_app.sql_service - INFO - [sql_service.py:115] - Using Pinecone for SQL Agent memory (index: vanna-sql-training)
2026-02-10 22:26:03 - rag_app.sql_service - INFO - [sql_service.py:135] - ✓ Vanna 2.0 Agent initialized successfully
2026-02-10 22:26:03 - rag_app - INFO - [main.py:1347] - Training Vanna on database schema and examples...
2026-02-10 22:26:03 - rag_app.sql_service - INFO - [sql_service.py:342] - Preparing schema context for Vanna 2.0...
2026-02-10 22:26:03 - rag_app.sql_service - INFO - [sql_service.py:348] - ✓ Schema context prepared for Vanna 2.0 Agent!
2026-02-10 22:26:03 - rag_app - INFO - [main.py:1349] - ✓ Text-to-SQL service initialized and trained!
2026-02-10 22:26:03 - rag_app - INFO - [main.py:1360] - Initializing document cache service (S3/local)...
2026-02-10 22:26:10 - rag_app - ERROR - [main.py:1364] - ✗ Failed to initialize document cache service: Unknown storage backend: s3 # options: local, s3
2026-02-10 22:26:10 - rag_app - WARNING - [main.py:1365] - Document uploads will work but caching will be unavailable.
2026-02-10 22:26:10 - rag_app - INFO - [main.py:1367] - ============================================================
2026-02-10 22:26:10 - rag_app - INFO - [main.py:1368] - API is ready!
2026-02-10 22:26:10 - rag_app - INFO - [main.py:1369] - ============================================================
2026-02-10 22:29:26 - rag_app - INFO - [main.py:273] - Parsing and chunking document with context awareness: Understanding_Climate_Change(1).pdf
2026-02-10 22:30:02 - rag_app.document_service - INFO - [document_service.py:314] - Using Docling for context-aware chunking: Understanding_Climate_Change(1).pdf
2026-02-10 22:30:02 - rag_app.docling_service - INFO - [docling_service.py:45] - Converting document with Docling: Understanding_Climate_Change(1).pdf
2026-02-10 22:30:43 - rag_app.docling_service - ERROR - [docling_service.py:54] - Docling conversion failed: Conversion failed for: Understanding_Climate_Change(1).pdf with status: ConversionStatus.FAILURE. Errors: Page 1: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 2: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 3: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 4: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 5: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 6: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 7: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 8: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 9: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 10: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 11: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 12: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 13: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 14: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 15: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 16: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 17: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 18: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 19: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 20: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 21: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 22: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 23: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 24: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 25: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 26: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 27: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 28: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 29: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 30: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 31: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 32: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 33: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.
2026-02-10 22:30:44 - rag_app.docling_service - ERROR - [docling_service.py:254] - Docling processing failed for Understanding_Climate_Change(1).pdf: Failed to convert document with Docling: Conversion failed for: Understanding_Climate_Change(1).pdf with status: ConversionStatus.FAILURE. Errors: Page 1: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 2: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 3: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 4: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 5: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 6: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 7: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 8: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 9: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 10: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 11: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 12: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 13: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 14: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 15: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 16: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 17: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 18: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 19: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 20: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 21: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 22: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 23: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 24: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 25: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 26: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 27: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 28: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 29: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 30: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 31: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 32: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 33: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.
2026-02-10 22:30:46 - rag_app.document_service - ERROR - [document_service.py:328] - Docling failed unexpectedly, falling back to semantic chunking: Failed to process document with Docling: Failed to convert document with Docling: Conversion failed for: Understanding_Climate_Change(1).pdf with status: ConversionStatus.FAILURE. Errors: Page 1: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 2: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 3: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 4: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 5: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 6: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 7: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 8: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 9: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 10: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 11: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 12: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 13: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 14: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 15: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 16: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 17: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 18: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 19: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 20: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 21: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 22: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 23: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 24: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 25: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 26: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 27: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 28: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 29: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 30: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 31: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 32: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.; Page 33: Unable to create tensor, you should probably activate padding with 'padding=True' to have batched tensors with the same length.
2026-02-10 22:30:46 - rag_app.document_service - INFO - [document_service.py:60] - Using unstructured library for .pdf file
2026-02-10 22:34:43 - rag_app - INFO - [main.py:1245] - Storage directories initialized: data/uploads, data/cached_chunks
2026-02-10 22:34:43 - rag_app - INFO - [main.py:1247] - ============================================================
2026-02-10 22:34:43 - rag_app - INFO - [main.py:1248] - Starting Multi-Source RAG + Text-to-SQL API...
2026-02-10 22:34:43 - rag_app - INFO - [main.py:1249] - ============================================================
2026-02-10 22:34:43 - rag_app - INFO - [main.py:1250] - Phase 0: Foundation Setup - COMPLETE
2026-02-10 22:34:43 - rag_app - INFO - [main.py:1251] - Phase 1: Document RAG MVP - COMPLETE
2026-02-10 22:34:43 - rag_app - INFO - [main.py:1252] - Phase 2: Text-to-SQL Foundation - COMPLETE
2026-02-10 22:34:43 - rag_app - INFO - [main.py:1253] - Phase 3: Query Routing - COMPLETE
2026-02-10 22:34:43 - rag_app - INFO - [main.py:1254] - Phase 4: Evaluation & Monitoring - COMPLETE
2026-02-10 22:34:43 - rag_app - INFO - [main.py:1255] - Phase 5: Polish & Documentation - COMPLETE
2026-02-10 22:34:43 - rag_app - INFO - [main.py:1256] - Phase 6: Docker Deployment - COMPLETE
2026-02-10 22:34:43 - rag_app - INFO - [main.py:1257] - ============================================================
2026-02-10 22:34:43 - rag_app - INFO - [main.py:1258] - ALL PHASES COMPLETE - PRODUCTION READY!
2026-02-10 22:34:43 - rag_app - INFO - [main.py:1259] - ============================================================
2026-02-10 22:34:43 - rag_app - INFO - [main.py:1265] - Initializing OPIK monitoring...
2026-02-10 22:34:44 - rag_app - INFO - [main.py:1282] - ✓ OPIK monitoring initialized!
2026-02-10 22:34:44 - rag_app - INFO - [main.py:1301] - Initializing query cache service (Redis)...
2026-02-10 22:34:45 - rag_app - INFO - [main.py:1306] - ✓ Query cache service initialized and connected!
2026-02-10 22:34:45 - rag_app - INFO - [main.py:1307] -   Cache TTL: RAG=3600s, Embeddings=604800s, SQL Gen=86400s, SQL Results=900s
2026-02-10 22:34:45 - rag_app - INFO - [main.py:1325] - Initializing Document RAG services...
2026-02-10 22:34:48 - rag_app.vector_service - INFO - [vector_service.py:63] - Connected to Pinecone index: rag-documents
2026-02-10 22:34:48 - rag_app - INFO - [main.py:1332] - ✓ Document RAG services initialized!
2026-02-10 22:34:48 - rag_app - INFO - [main.py:1343] - Initializing Text-to-SQL service...
2026-02-10 22:34:48 - rag_app.sql_service - INFO - [sql_service.py:68] - Configuring SQL LLM with deterministic settings: temperature=0.0, top_p=0.1, seed=42
2026-02-10 22:34:48 - rag_app.sql_service - INFO - [sql_service.py:115] - Using Pinecone for SQL Agent memory (index: vanna-sql-training)
2026-02-10 22:34:48 - rag_app.sql_service - INFO - [sql_service.py:135] - ✓ Vanna 2.0 Agent initialized successfully
2026-02-10 22:34:48 - rag_app - INFO - [main.py:1347] - Training Vanna on database schema and examples...
2026-02-10 22:34:48 - rag_app.sql_service - INFO - [sql_service.py:342] - Preparing schema context for Vanna 2.0...
2026-02-10 22:34:48 - rag_app.sql_service - INFO - [sql_service.py:348] - ✓ Schema context prepared for Vanna 2.0 Agent!
2026-02-10 22:34:48 - rag_app - INFO - [main.py:1349] - ✓ Text-to-SQL service initialized and trained!
2026-02-10 22:34:48 - rag_app - INFO - [main.py:1360] - Initializing document cache service (S3/local)...
2026-02-10 22:34:52 - rag_app - ERROR - [main.py:1364] - ✗ Failed to initialize document cache service: Unknown storage backend: s3 # options: local, s3
2026-02-10 22:34:52 - rag_app - WARNING - [main.py:1365] - Document uploads will work but caching will be unavailable.
2026-02-10 22:34:52 - rag_app - INFO - [main.py:1367] - ============================================================
2026-02-10 22:34:52 - rag_app - INFO - [main.py:1368] - API is ready!
2026-02-10 22:34:52 - rag_app - INFO - [main.py:1369] - ============================================================
2026-02-10 22:34:57 - rag_app - INFO - [main.py:273] - Parsing and chunking document with context awareness: Understanding_Climate_Change(1).pdf
2026-02-10 22:35:23 - rag_app.document_service - INFO - [document_service.py:314] - Using Docling for context-aware chunking: Understanding_Climate_Change(1).pdf
2026-02-10 22:35:23 - rag_app.docling_service - INFO - [docling_service.py:45] - Converting document with Docling: Understanding_Climate_Change(1).pdf
2026-02-10 22:36:41 - rag_app.docling_service - INFO - [docling_service.py:50] - Document converted successfully: 495 text elements
2026-02-10 22:36:44 - rag_app.docling_service - INFO - [docling_service.py:102] - Chunking with HybridChunker (max_tokens=512, merge_peers=True)
2026-02-10 22:36:45 - rag_app.docling_service - INFO - [docling_service.py:107] - Generated 209 raw semantic chunks, merging to target 256-512 tokens
2026-02-10 22:36:45 - rag_app.docling_service - INFO - [docling_service.py:156] - After merging: 37 chunks (avg 283.6 tokens)
2026-02-10 22:36:45 - rag_app.docling_service - INFO - [docling_service.py:212] - Sample chunk metadata - Headings: [], Pages: []
2026-02-10 22:36:45 - rag_app.docling_service - INFO - [docling_service.py:249] - Successfully processed Understanding_Climate_Change(1).pdf: 37 chunks with context
2026-02-10 22:36:45 - rag_app.document_service - INFO - [document_service.py:317] - Docling chunking complete: 37 chunks with heading context
2026-02-10 22:36:45 - rag_app - INFO - [main.py:281] - Created 37 context-aware chunks (target 256-512 tokens)
2026-02-10 22:36:45 - rag_app - INFO - [main.py:286] - Generating embeddings for 37 chunks...
2026-02-10 22:37:07 - rag_app - INFO - [main.py:327] - Storing 37 vectors in Pinecone...
2026-02-10 22:37:10 - rag_app.vector_service - INFO - [vector_service.py:128] - Successfully upserted 37 vectors to Pinecone
2026-02-11 00:04:10 - rag_app - INFO - [main.py:1307] - Storage directories initialized: data/uploads, data/cached_chunks
2026-02-11 00:04:10 - rag_app - INFO - [main.py:1309] - ============================================================
2026-02-11 00:04:10 - rag_app - INFO - [main.py:1310] - Starting Multi-Source RAG + Text-to-SQL API...
2026-02-11 00:04:10 - rag_app - INFO - [main.py:1311] - ============================================================
2026-02-11 00:04:10 - rag_app - INFO - [main.py:1312] - Phase 0: Foundation Setup - COMPLETE
2026-02-11 00:04:10 - rag_app - INFO - [main.py:1313] - Phase 1: Document RAG MVP - COMPLETE
2026-02-11 00:04:10 - rag_app - INFO - [main.py:1314] - Phase 2: Text-to-SQL Foundation - COMPLETE
2026-02-11 00:04:10 - rag_app - INFO - [main.py:1315] - Phase 3: Query Routing - COMPLETE
2026-02-11 00:04:10 - rag_app - INFO - [main.py:1316] - Phase 4: Evaluation & Monitoring - COMPLETE
2026-02-11 00:04:10 - rag_app - INFO - [main.py:1317] - Phase 5: Polish & Documentation - COMPLETE
2026-02-11 00:04:10 - rag_app - INFO - [main.py:1318] - Phase 6: Docker Deployment - COMPLETE
2026-02-11 00:04:10 - rag_app - INFO - [main.py:1319] - ============================================================
2026-02-11 00:04:10 - rag_app - INFO - [main.py:1320] - ALL PHASES COMPLETE - PRODUCTION READY!
2026-02-11 00:04:10 - rag_app - INFO - [main.py:1321] - ============================================================
2026-02-11 00:04:10 - rag_app - INFO - [main.py:1327] - Initializing OPIK monitoring...
2026-02-11 00:04:11 - rag_app - INFO - [main.py:1344] - ✓ OPIK monitoring initialized!
2026-02-11 00:04:11 - rag_app - INFO - [main.py:1363] - Initializing query cache service (Redis)...
2026-02-11 00:04:12 - rag_app - INFO - [main.py:1368] - ✓ Query cache service initialized and connected!
2026-02-11 00:04:12 - rag_app - INFO - [main.py:1369] -   Cache TTL: RAG=3600s, Embeddings=604800s, SQL Gen=86400s, SQL Results=900s
2026-02-11 00:04:12 - rag_app - INFO - [main.py:1387] - Initializing Document RAG services...
2026-02-11 00:04:13 - rag_app.vector_service - INFO - [vector_service.py:63] - Connected to Pinecone index: medical-documents
2026-02-11 00:04:13 - rag_app - ERROR - [main.py:1402] - Failed to initialize RAG services: Unknown storage backend: s3 # options: local, s3
Traceback (most recent call last):
  File "/Users/admin/Desktop/Personal/Rag-System-design/app/main.py", line 1394, in initialize_services
    advanced_rag_service = AdvancedRAGPipelineService(
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/admin/Desktop/Personal/Rag-System-design/app/services/advanced_rag_pipeline_service.py", line 38, in __init__
    self.bm25_service = BM25Service()
                        ^^^^^^^^^^^^^
  File "/Users/admin/Desktop/Personal/Rag-System-design/app/services/bm25_service.py", line 27, in __init__
    self.cache_service = cache_service or CacheService()
                                          ^^^^^^^^^^^^^^
  File "/Users/admin/Desktop/Personal/Rag-System-design/app/services/cache_service.py", line 56, in __init__
    raise ValueError(f"Unknown storage backend: {backend_type}")
ValueError: Unknown storage backend: s3 # options: local, s3
2026-02-11 00:04:13 - rag_app - WARNING - [main.py:1403] - Document RAG features will be unavailable.
2026-02-11 00:04:13 - rag_app - INFO - [main.py:1408] - Initializing Text-to-SQL service...
2026-02-11 00:04:13 - rag_app.sql_service - INFO - [sql_service.py:68] - Configuring SQL LLM with deterministic settings: temperature=0.0, top_p=0.1, seed=42
2026-02-11 00:04:17 - rag_app.sql_service - INFO - [sql_service.py:115] - Using Pinecone for SQL Agent memory (index: vanna-sql-training)
2026-02-11 00:04:17 - rag_app.sql_service - INFO - [sql_service.py:135] - ✓ Vanna 2.0 Agent initialized successfully
2026-02-11 00:04:17 - rag_app - INFO - [main.py:1412] - Training Vanna on database schema and examples...
2026-02-11 00:04:17 - rag_app.sql_service - INFO - [sql_service.py:342] - Preparing schema context for Vanna 2.0...
2026-02-11 00:04:17 - rag_app.sql_service - INFO - [sql_service.py:348] - ✓ Schema context prepared for Vanna 2.0 Agent!
2026-02-11 00:04:17 - rag_app - INFO - [main.py:1414] - ✓ Text-to-SQL service initialized and trained!
2026-02-11 00:04:17 - rag_app - INFO - [main.py:1425] - Initializing document cache service (S3/local)...
2026-02-11 00:04:17 - rag_app - ERROR - [main.py:1429] - ✗ Failed to initialize document cache service: Unknown storage backend: s3 # options: local, s3
2026-02-11 00:04:17 - rag_app - WARNING - [main.py:1430] - Document uploads will work but caching will be unavailable.
2026-02-11 00:04:17 - rag_app - INFO - [main.py:1432] - ============================================================
2026-02-11 00:04:17 - rag_app - INFO - [main.py:1433] - API is ready!
2026-02-11 00:04:17 - rag_app - INFO - [main.py:1434] - ============================================================
2026-02-11 00:06:39 - rag_app - INFO - [main.py:276] - Parsing and chunking document with context awareness: Diabetes Mellitus Type 2.pdf
2026-02-11 00:07:14 - rag_app.document_service - INFO - [document_service.py:314] - Using Docling for context-aware chunking: Diabetes Mellitus Type 2.pdf
2026-02-11 00:07:14 - rag_app.docling_service - INFO - [docling_service.py:45] - Converting document with Docling: Diabetes Mellitus Type 2.pdf
2026-02-11 00:08:05 - rag_app.docling_service - INFO - [docling_service.py:50] - Document converted successfully: 112 text elements
2026-02-11 00:08:05 - rag_app.docling_service - INFO - [docling_service.py:102] - Chunking with HybridChunker (max_tokens=512, merge_peers=True)
2026-02-11 00:08:05 - rag_app.docling_service - INFO - [docling_service.py:107] - Generated 13 raw semantic chunks, merging to target 256-512 tokens
2026-02-11 00:08:05 - rag_app.docling_service - INFO - [docling_service.py:156] - After merging: 7 chunks (avg 363.7 tokens)
2026-02-11 00:08:05 - rag_app.docling_service - INFO - [docling_service.py:212] - Sample chunk metadata - Headings: [], Pages: []
2026-02-11 00:08:05 - rag_app.docling_service - INFO - [docling_service.py:249] - Successfully processed Diabetes Mellitus Type 2.pdf: 7 chunks with context
2026-02-11 00:08:05 - rag_app.document_service - INFO - [document_service.py:317] - Docling chunking complete: 7 chunks with heading context
2026-02-11 00:08:05 - rag_app - INFO - [main.py:284] - Created 7 context-aware chunks (target 256-512 tokens)
2026-02-11 00:08:05 - rag_app - INFO - [main.py:289] - Generating embeddings for 7 chunks...
2026-02-11 00:08:12 - rag_app - INFO - [main.py:330] - Storing 7 vectors in Pinecone...
2026-02-11 00:08:14 - rag_app.vector_service - INFO - [vector_service.py:128] - Successfully upserted 7 vectors to Pinecone
2026-02-11 00:11:11 - rag_app - INFO - [main.py:1449] - Shutting down Multi-Source RAG + Text-to-SQL API...
2026-02-11 00:11:52 - rag_app - INFO - [main.py:1307] - Storage directories initialized: data/uploads, data/cached_chunks
2026-02-11 00:11:52 - rag_app - INFO - [main.py:1309] - ============================================================
2026-02-11 00:11:52 - rag_app - INFO - [main.py:1310] - Starting Multi-Source RAG + Text-to-SQL API...
2026-02-11 00:11:52 - rag_app - INFO - [main.py:1311] - ============================================================
2026-02-11 00:11:52 - rag_app - INFO - [main.py:1312] - Phase 0: Foundation Setup - COMPLETE
2026-02-11 00:11:52 - rag_app - INFO - [main.py:1313] - Phase 1: Document RAG MVP - COMPLETE
2026-02-11 00:11:52 - rag_app - INFO - [main.py:1314] - Phase 2: Text-to-SQL Foundation - COMPLETE
2026-02-11 00:11:52 - rag_app - INFO - [main.py:1315] - Phase 3: Query Routing - COMPLETE
2026-02-11 00:11:52 - rag_app - INFO - [main.py:1316] - Phase 4: Evaluation & Monitoring - COMPLETE
2026-02-11 00:11:52 - rag_app - INFO - [main.py:1317] - Phase 5: Polish & Documentation - COMPLETE
2026-02-11 00:11:52 - rag_app - INFO - [main.py:1318] - Phase 6: Docker Deployment - COMPLETE
2026-02-11 00:11:52 - rag_app - INFO - [main.py:1319] - ============================================================
2026-02-11 00:11:52 - rag_app - INFO - [main.py:1320] - ALL PHASES COMPLETE - PRODUCTION READY!
2026-02-11 00:11:52 - rag_app - INFO - [main.py:1321] - ============================================================
2026-02-11 00:11:52 - rag_app - INFO - [main.py:1327] - Initializing OPIK monitoring...
2026-02-11 00:11:53 - rag_app - INFO - [main.py:1344] - ✓ OPIK monitoring initialized!
2026-02-11 00:11:53 - rag_app - INFO - [main.py:1363] - Initializing query cache service (Redis)...
2026-02-11 00:11:54 - rag_app - INFO - [main.py:1368] - ✓ Query cache service initialized and connected!
2026-02-11 00:11:54 - rag_app - INFO - [main.py:1369] -   Cache TTL: RAG=3600s, Embeddings=604800s, SQL Gen=86400s, SQL Results=900s
2026-02-11 00:11:54 - rag_app - INFO - [main.py:1387] - Initializing Document RAG services...
2026-02-11 00:11:56 - rag_app.vector_service - INFO - [vector_service.py:63] - Connected to Pinecone index: medical-documents
2026-02-11 00:11:56 - rag_app - ERROR - [main.py:1402] - Failed to initialize RAG services: Unknown storage backend: s3 # options: local, s3
Traceback (most recent call last):
  File "/Users/admin/Desktop/Personal/Rag-System-design/app/main.py", line 1394, in initialize_services
    advanced_rag_service = AdvancedRAGPipelineService(
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/admin/Desktop/Personal/Rag-System-design/app/services/advanced_rag_pipeline_service.py", line 40, in __init__
    self.bm25_service = BM25Service()
                        ^^^^^^^^^^^^^
  File "/Users/admin/Desktop/Personal/Rag-System-design/app/services/bm25_service.py", line 27, in __init__
    self.cache_service = cache_service or CacheService()
                                          ^^^^^^^^^^^^^^
  File "/Users/admin/Desktop/Personal/Rag-System-design/app/services/cache_service.py", line 56, in __init__
    raise ValueError(f"Unknown storage backend: {backend_type}")
ValueError: Unknown storage backend: s3 # options: local, s3
2026-02-11 00:11:56 - rag_app - WARNING - [main.py:1403] - Document RAG features will be unavailable.
2026-02-11 00:11:56 - rag_app - INFO - [main.py:1408] - Initializing Text-to-SQL service...
2026-02-11 00:11:56 - rag_app.sql_service - INFO - [sql_service.py:68] - Configuring SQL LLM with deterministic settings: temperature=0.0, top_p=0.1, seed=42
2026-02-11 00:11:57 - rag_app.sql_service - INFO - [sql_service.py:115] - Using Pinecone for SQL Agent memory (index: vanna-sql-training)
2026-02-11 00:11:57 - rag_app.sql_service - INFO - [sql_service.py:135] - ✓ Vanna 2.0 Agent initialized successfully
2026-02-11 00:11:57 - rag_app - INFO - [main.py:1412] - Training Vanna on database schema and examples...
2026-02-11 00:11:57 - rag_app.sql_service - INFO - [sql_service.py:342] - Preparing schema context for Vanna 2.0...
2026-02-11 00:11:57 - rag_app.sql_service - INFO - [sql_service.py:348] - ✓ Schema context prepared for Vanna 2.0 Agent!
2026-02-11 00:11:57 - rag_app - INFO - [main.py:1414] - ✓ Text-to-SQL service initialized and trained!
2026-02-11 00:11:57 - rag_app - INFO - [main.py:1425] - Initializing document cache service (S3/local)...
2026-02-11 00:11:57 - rag_app - ERROR - [main.py:1429] - ✗ Failed to initialize document cache service: Unknown storage backend: s3 # options: local, s3
2026-02-11 00:11:57 - rag_app - WARNING - [main.py:1430] - Document uploads will work but caching will be unavailable.
2026-02-11 00:11:57 - rag_app - INFO - [main.py:1432] - ============================================================
2026-02-11 00:11:57 - rag_app - INFO - [main.py:1433] - API is ready!
2026-02-11 00:11:57 - rag_app - INFO - [main.py:1434] - ============================================================
2026-02-11 00:13:18 - rag_app - INFO - [main.py:1449] - Shutting down Multi-Source RAG + Text-to-SQL API...
2026-02-11 00:13:55 - rag_app - INFO - [main.py:1307] - Storage directories initialized: data/uploads, data/cached_chunks
2026-02-11 00:13:55 - rag_app - INFO - [main.py:1309] - ============================================================
2026-02-11 00:13:55 - rag_app - INFO - [main.py:1310] - Starting Multi-Source RAG + Text-to-SQL API...
2026-02-11 00:13:55 - rag_app - INFO - [main.py:1311] - ============================================================
2026-02-11 00:13:55 - rag_app - INFO - [main.py:1312] - Phase 0: Foundation Setup - COMPLETE
2026-02-11 00:13:55 - rag_app - INFO - [main.py:1313] - Phase 1: Document RAG MVP - COMPLETE
2026-02-11 00:13:55 - rag_app - INFO - [main.py:1314] - Phase 2: Text-to-SQL Foundation - COMPLETE
2026-02-11 00:13:55 - rag_app - INFO - [main.py:1315] - Phase 3: Query Routing - COMPLETE
2026-02-11 00:13:55 - rag_app - INFO - [main.py:1316] - Phase 4: Evaluation & Monitoring - COMPLETE
2026-02-11 00:13:55 - rag_app - INFO - [main.py:1317] - Phase 5: Polish & Documentation - COMPLETE
2026-02-11 00:13:55 - rag_app - INFO - [main.py:1318] - Phase 6: Docker Deployment - COMPLETE
2026-02-11 00:13:55 - rag_app - INFO - [main.py:1319] - ============================================================
2026-02-11 00:13:55 - rag_app - INFO - [main.py:1320] - ALL PHASES COMPLETE - PRODUCTION READY!
2026-02-11 00:13:55 - rag_app - INFO - [main.py:1321] - ============================================================
2026-02-11 00:13:55 - rag_app - INFO - [main.py:1327] - Initializing OPIK monitoring...
2026-02-11 00:13:56 - rag_app - INFO - [main.py:1344] - ✓ OPIK monitoring initialized!
2026-02-11 00:13:56 - rag_app - INFO - [main.py:1363] - Initializing query cache service (Redis)...
2026-02-11 00:13:56 - rag_app - INFO - [main.py:1368] - ✓ Query cache service initialized and connected!
2026-02-11 00:13:56 - rag_app - INFO - [main.py:1369] -   Cache TTL: RAG=3600s, Embeddings=604800s, SQL Gen=86400s, SQL Results=900s
2026-02-11 00:13:56 - rag_app - INFO - [main.py:1387] - Initializing Document RAG services...
2026-02-11 00:13:58 - rag_app.vector_service - INFO - [vector_service.py:63] - Connected to Pinecone index: medical-documents
2026-02-11 00:13:58 - rag_app - ERROR - [main.py:1402] - Failed to initialize RAG services: Unknown storage backend: s3 # options: local, s3
Traceback (most recent call last):
  File "/Users/admin/Desktop/Personal/Rag-System-design/app/main.py", line 1394, in initialize_services
    advanced_rag_service = AdvancedRAGPipelineService(
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/admin/Desktop/Personal/Rag-System-design/app/services/advanced_rag_pipeline_service.py", line 40, in __init__
    self.bm25_service = BM25Service()
                        ^^^^^^^^^^^^^
  File "/Users/admin/Desktop/Personal/Rag-System-design/app/services/bm25_service.py", line 27, in __init__
    self.cache_service = cache_service or CacheService()
                                          ^^^^^^^^^^^^^^
  File "/Users/admin/Desktop/Personal/Rag-System-design/app/services/cache_service.py", line 56, in __init__
    raise ValueError(f"Unknown storage backend: {backend_type}")
ValueError: Unknown storage backend: s3 # options: local, s3
2026-02-11 00:13:58 - rag_app - WARNING - [main.py:1403] - Document RAG features will be unavailable.
2026-02-11 00:13:58 - rag_app - INFO - [main.py:1408] - Initializing Text-to-SQL service...
2026-02-11 00:13:58 - rag_app.sql_service - INFO - [sql_service.py:68] - Configuring SQL LLM with deterministic settings: temperature=0.0, top_p=0.1, seed=42
2026-02-11 00:13:58 - rag_app.sql_service - INFO - [sql_service.py:115] - Using Pinecone for SQL Agent memory (index: vanna-sql-training)
2026-02-11 00:13:58 - rag_app.sql_service - INFO - [sql_service.py:135] - ✓ Vanna 2.0 Agent initialized successfully
2026-02-11 00:13:58 - rag_app - INFO - [main.py:1412] - Training Vanna on database schema and examples...
2026-02-11 00:13:58 - rag_app.sql_service - INFO - [sql_service.py:342] - Preparing schema context for Vanna 2.0...
2026-02-11 00:13:58 - rag_app.sql_service - INFO - [sql_service.py:348] - ✓ Schema context prepared for Vanna 2.0 Agent!
2026-02-11 00:13:58 - rag_app - INFO - [main.py:1414] - ✓ Text-to-SQL service initialized and trained!
2026-02-11 00:13:58 - rag_app - INFO - [main.py:1425] - Initializing document cache service (S3/local)...
2026-02-11 00:13:58 - rag_app - ERROR - [main.py:1429] - ✗ Failed to initialize document cache service: Unknown storage backend: s3 # options: local, s3
2026-02-11 00:13:58 - rag_app - WARNING - [main.py:1430] - Document uploads will work but caching will be unavailable.
2026-02-11 00:13:58 - rag_app - INFO - [main.py:1432] - ============================================================
2026-02-11 00:13:58 - rag_app - INFO - [main.py:1433] - API is ready!
2026-02-11 00:13:58 - rag_app - INFO - [main.py:1434] - ============================================================
2026-02-11 00:14:01 - rag_app - INFO - [main.py:1449] - Shutting down Multi-Source RAG + Text-to-SQL API...
2026-02-11 00:14:46 - rag_app - INFO - [main.py:1307] - Storage directories initialized: data/uploads, data/cached_chunks
2026-02-11 00:14:46 - rag_app - INFO - [main.py:1309] - ============================================================
2026-02-11 00:14:46 - rag_app - INFO - [main.py:1310] - Starting Multi-Source RAG + Text-to-SQL API...
2026-02-11 00:14:46 - rag_app - INFO - [main.py:1311] - ============================================================
2026-02-11 00:14:46 - rag_app - INFO - [main.py:1312] - Phase 0: Foundation Setup - COMPLETE
2026-02-11 00:14:46 - rag_app - INFO - [main.py:1313] - Phase 1: Document RAG MVP - COMPLETE
2026-02-11 00:14:46 - rag_app - INFO - [main.py:1314] - Phase 2: Text-to-SQL Foundation - COMPLETE
2026-02-11 00:14:46 - rag_app - INFO - [main.py:1315] - Phase 3: Query Routing - COMPLETE
2026-02-11 00:14:46 - rag_app - INFO - [main.py:1316] - Phase 4: Evaluation & Monitoring - COMPLETE
2026-02-11 00:14:46 - rag_app - INFO - [main.py:1317] - Phase 5: Polish & Documentation - COMPLETE
2026-02-11 00:14:46 - rag_app - INFO - [main.py:1318] - Phase 6: Docker Deployment - COMPLETE
2026-02-11 00:14:46 - rag_app - INFO - [main.py:1319] - ============================================================
2026-02-11 00:14:46 - rag_app - INFO - [main.py:1320] - ALL PHASES COMPLETE - PRODUCTION READY!
2026-02-11 00:14:46 - rag_app - INFO - [main.py:1321] - ============================================================
2026-02-11 00:14:46 - rag_app - INFO - [main.py:1327] - Initializing OPIK monitoring...
2026-02-11 00:14:47 - rag_app - INFO - [main.py:1344] - ✓ OPIK monitoring initialized!
2026-02-11 00:14:47 - rag_app - INFO - [main.py:1363] - Initializing query cache service (Redis)...
2026-02-11 00:14:47 - rag_app - INFO - [main.py:1368] - ✓ Query cache service initialized and connected!
2026-02-11 00:14:47 - rag_app - INFO - [main.py:1369] -   Cache TTL: RAG=3600s, Embeddings=604800s, SQL Gen=86400s, SQL Results=900s
2026-02-11 00:14:47 - rag_app - INFO - [main.py:1387] - Initializing Document RAG services...
2026-02-11 00:14:50 - rag_app.vector_service - INFO - [vector_service.py:63] - Connected to Pinecone index: medical-documents
2026-02-11 00:14:50 - rag_app - ERROR - [main.py:1402] - Failed to initialize RAG services: Unknown storage backend: s3 # options: local, s3
Traceback (most recent call last):
  File "/Users/admin/Desktop/Personal/Rag-System-design/app/main.py", line 1394, in initialize_services
    advanced_rag_service = AdvancedRAGPipelineService(
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/admin/Desktop/Personal/Rag-System-design/app/services/advanced_rag_pipeline_service.py", line 40, in __init__
    self.bm25_service = BM25Service()
                        ^^^^^^^^^^^^^
  File "/Users/admin/Desktop/Personal/Rag-System-design/app/services/bm25_service.py", line 27, in __init__
    self.cache_service = cache_service or CacheService()
                                          ^^^^^^^^^^^^^^
  File "/Users/admin/Desktop/Personal/Rag-System-design/app/services/cache_service.py", line 56, in __init__
    raise ValueError(f"Unknown storage backend: {backend_type}")
ValueError: Unknown storage backend: s3 # options: local, s3
2026-02-11 00:14:50 - rag_app - WARNING - [main.py:1403] - Document RAG features will be unavailable.
2026-02-11 00:14:50 - rag_app - INFO - [main.py:1408] - Initializing Text-to-SQL service...
2026-02-11 00:14:50 - rag_app.sql_service - INFO - [sql_service.py:68] - Configuring SQL LLM with deterministic settings: temperature=0.0, top_p=0.1, seed=42
2026-02-11 00:14:50 - rag_app.sql_service - INFO - [sql_service.py:115] - Using Pinecone for SQL Agent memory (index: vanna-sql-training)
2026-02-11 00:14:50 - rag_app.sql_service - INFO - [sql_service.py:135] - ✓ Vanna 2.0 Agent initialized successfully
2026-02-11 00:14:50 - rag_app - INFO - [main.py:1412] - Training Vanna on database schema and examples...
2026-02-11 00:14:50 - rag_app.sql_service - INFO - [sql_service.py:342] - Preparing schema context for Vanna 2.0...
2026-02-11 00:14:50 - rag_app.sql_service - INFO - [sql_service.py:348] - ✓ Schema context prepared for Vanna 2.0 Agent!
2026-02-11 00:14:50 - rag_app - INFO - [main.py:1414] - ✓ Text-to-SQL service initialized and trained!
2026-02-11 00:14:50 - rag_app - INFO - [main.py:1425] - Initializing document cache service (S3/local)...
2026-02-11 00:14:50 - rag_app - ERROR - [main.py:1429] - ✗ Failed to initialize document cache service: Unknown storage backend: s3 # options: local, s3
2026-02-11 00:14:50 - rag_app - WARNING - [main.py:1430] - Document uploads will work but caching will be unavailable.
2026-02-11 00:14:50 - rag_app - INFO - [main.py:1432] - ============================================================
2026-02-11 00:14:50 - rag_app - INFO - [main.py:1433] - API is ready!
2026-02-11 00:14:50 - rag_app - INFO - [main.py:1434] - ============================================================
2026-02-11 00:19:31 - rag_app - INFO - [main.py:1307] - Storage directories initialized: data/uploads, data/cached_chunks
2026-02-11 00:19:31 - rag_app - INFO - [main.py:1309] - ============================================================
2026-02-11 00:19:31 - rag_app - INFO - [main.py:1310] - Starting Multi-Source RAG + Text-to-SQL API...
2026-02-11 00:19:31 - rag_app - INFO - [main.py:1311] - ============================================================
2026-02-11 00:19:31 - rag_app - INFO - [main.py:1312] - Phase 0: Foundation Setup - COMPLETE
2026-02-11 00:19:31 - rag_app - INFO - [main.py:1313] - Phase 1: Document RAG MVP - COMPLETE
2026-02-11 00:19:31 - rag_app - INFO - [main.py:1314] - Phase 2: Text-to-SQL Foundation - COMPLETE
2026-02-11 00:19:31 - rag_app - INFO - [main.py:1315] - Phase 3: Query Routing - COMPLETE
2026-02-11 00:19:31 - rag_app - INFO - [main.py:1316] - Phase 4: Evaluation & Monitoring - COMPLETE
2026-02-11 00:19:31 - rag_app - INFO - [main.py:1317] - Phase 5: Polish & Documentation - COMPLETE
2026-02-11 00:19:31 - rag_app - INFO - [main.py:1318] - Phase 6: Docker Deployment - COMPLETE
2026-02-11 00:19:31 - rag_app - INFO - [main.py:1319] - ============================================================
2026-02-11 00:19:31 - rag_app - INFO - [main.py:1320] - ALL PHASES COMPLETE - PRODUCTION READY!
2026-02-11 00:19:31 - rag_app - INFO - [main.py:1321] - ============================================================
2026-02-11 00:19:31 - rag_app - INFO - [main.py:1327] - Initializing OPIK monitoring...
2026-02-11 00:19:32 - rag_app - INFO - [main.py:1344] - ✓ OPIK monitoring initialized!
2026-02-11 00:19:32 - rag_app - INFO - [main.py:1363] - Initializing query cache service (Redis)...
2026-02-11 00:19:33 - rag_app - INFO - [main.py:1368] - ✓ Query cache service initialized and connected!
2026-02-11 00:19:33 - rag_app - INFO - [main.py:1369] -   Cache TTL: RAG=3600s, Embeddings=604800s, SQL Gen=86400s, SQL Results=900s
2026-02-11 00:19:33 - rag_app - INFO - [main.py:1387] - Initializing Document RAG services...
2026-02-11 00:19:35 - rag_app.vector_service - INFO - [vector_service.py:63] - Connected to Pinecone index: medical-documents
2026-02-11 00:19:55 - rag_app - ERROR - [main.py:1402] - Failed to initialize RAG services: Unknown storage backend: s3 # options: local, s3
Traceback (most recent call last):
  File "/Users/admin/Desktop/Personal/Rag-System-design/app/main.py", line 1394, in initialize_services
    advanced_rag_service = AdvancedRAGPipelineService(
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/admin/Desktop/Personal/Rag-System-design/app/services/advanced_rag_pipeline_service.py", line 40, in __init__
    self.bm25_service = BM25Service()
                        ^^^^^^^^^^^^^
  File "/Users/admin/Desktop/Personal/Rag-System-design/app/services/bm25_service.py", line 27, in __init__
    self.cache_service = cache_service or CacheService()
                                          ^^^^^^^^^^^^^^
  File "/Users/admin/Desktop/Personal/Rag-System-design/app/services/cache_service.py", line 56, in __init__
    raise ValueError(f"Unknown storage backend: {backend_type}")
ValueError: Unknown storage backend: s3 # options: local, s3
2026-02-11 00:19:55 - rag_app - WARNING - [main.py:1403] - Document RAG features will be unavailable.
2026-02-11 00:19:55 - rag_app - INFO - [main.py:1408] - Initializing Text-to-SQL service...
2026-02-11 00:19:55 - rag_app.sql_service - INFO - [sql_service.py:68] - Configuring SQL LLM with deterministic settings: temperature=0.0, top_p=0.1, seed=42
2026-02-11 00:19:55 - rag_app.sql_service - INFO - [sql_service.py:115] - Using Pinecone for SQL Agent memory (index: vanna-sql-training)
2026-02-11 00:19:55 - rag_app.sql_service - INFO - [sql_service.py:135] - ✓ Vanna 2.0 Agent initialized successfully
2026-02-11 00:19:55 - rag_app - INFO - [main.py:1412] - Training Vanna on database schema and examples...
2026-02-11 00:19:55 - rag_app.sql_service - INFO - [sql_service.py:342] - Preparing schema context for Vanna 2.0...
2026-02-11 00:19:55 - rag_app.sql_service - INFO - [sql_service.py:348] - ✓ Schema context prepared for Vanna 2.0 Agent!
2026-02-11 00:19:55 - rag_app - INFO - [main.py:1414] - ✓ Text-to-SQL service initialized and trained!
2026-02-11 00:19:55 - rag_app - INFO - [main.py:1425] - Initializing document cache service (S3/local)...
2026-02-11 00:19:55 - rag_app - ERROR - [main.py:1429] - ✗ Failed to initialize document cache service: Unknown storage backend: s3 # options: local, s3
2026-02-11 00:19:55 - rag_app - WARNING - [main.py:1430] - Document uploads will work but caching will be unavailable.
2026-02-11 00:19:55 - rag_app - INFO - [main.py:1432] - ============================================================
2026-02-11 00:19:55 - rag_app - INFO - [main.py:1433] - API is ready!
2026-02-11 00:19:55 - rag_app - INFO - [main.py:1434] - ============================================================
2026-02-11 00:25:42 - rag_app - INFO - [main.py:1307] - Storage directories initialized: data/uploads, data/cached_chunks
2026-02-11 00:25:42 - rag_app - INFO - [main.py:1309] - ============================================================
2026-02-11 00:25:42 - rag_app - INFO - [main.py:1310] - Starting Multi-Source RAG + Text-to-SQL API...
2026-02-11 00:25:42 - rag_app - INFO - [main.py:1311] - ============================================================
2026-02-11 00:25:42 - rag_app - INFO - [main.py:1312] - Phase 0: Foundation Setup - COMPLETE
2026-02-11 00:25:42 - rag_app - INFO - [main.py:1313] - Phase 1: Document RAG MVP - COMPLETE
2026-02-11 00:25:42 - rag_app - INFO - [main.py:1314] - Phase 2: Text-to-SQL Foundation - COMPLETE
2026-02-11 00:25:42 - rag_app - INFO - [main.py:1315] - Phase 3: Query Routing - COMPLETE
2026-02-11 00:25:42 - rag_app - INFO - [main.py:1316] - Phase 4: Evaluation & Monitoring - COMPLETE
2026-02-11 00:25:42 - rag_app - INFO - [main.py:1317] - Phase 5: Polish & Documentation - COMPLETE
2026-02-11 00:25:42 - rag_app - INFO - [main.py:1318] - Phase 6: Docker Deployment - COMPLETE
2026-02-11 00:25:42 - rag_app - INFO - [main.py:1319] - ============================================================
2026-02-11 00:25:42 - rag_app - INFO - [main.py:1320] - ALL PHASES COMPLETE - PRODUCTION READY!
2026-02-11 00:25:42 - rag_app - INFO - [main.py:1321] - ============================================================
2026-02-11 00:25:42 - rag_app - INFO - [main.py:1327] - Initializing OPIK monitoring...
2026-02-11 00:25:43 - rag_app - INFO - [main.py:1344] - ✓ OPIK monitoring initialized!
2026-02-11 00:25:43 - rag_app - INFO - [main.py:1363] - Initializing query cache service (Redis)...
2026-02-11 00:25:44 - rag_app - INFO - [main.py:1368] - ✓ Query cache service initialized and connected!
2026-02-11 00:25:44 - rag_app - INFO - [main.py:1369] -   Cache TTL: RAG=3600s, Embeddings=604800s, SQL Gen=86400s, SQL Results=900s
2026-02-11 00:25:44 - rag_app - INFO - [main.py:1387] - Initializing Document RAG services...
2026-02-11 00:25:46 - rag_app.vector_service - INFO - [vector_service.py:64] - Connected to Pinecone index: medical-documents
2026-02-11 00:25:49 - rag_app - ERROR - [main.py:1402] - Failed to initialize RAG services: Unknown storage backend: s3 # options: local, s3
Traceback (most recent call last):
  File "/Users/admin/Desktop/Personal/Rag-System-design/app/main.py", line 1394, in initialize_services
    advanced_rag_service = AdvancedRAGPipelineService(
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/admin/Desktop/Personal/Rag-System-design/app/services/advanced_rag_pipeline_service.py", line 40, in __init__
    self.bm25_service = BM25Service()
                        ^^^^^^^^^^^^^
  File "/Users/admin/Desktop/Personal/Rag-System-design/app/services/bm25_service.py", line 27, in __init__
    self.cache_service = cache_service or CacheService()
                                          ^^^^^^^^^^^^^^
  File "/Users/admin/Desktop/Personal/Rag-System-design/app/services/cache_service.py", line 56, in __init__
    raise ValueError(f"Unknown storage backend: {backend_type}")
ValueError: Unknown storage backend: s3 # options: local, s3
2026-02-11 00:25:49 - rag_app - WARNING - [main.py:1403] - Document RAG features will be unavailable.
2026-02-11 00:25:49 - rag_app - INFO - [main.py:1408] - Initializing Text-to-SQL service...
2026-02-11 00:25:49 - rag_app.sql_service - INFO - [sql_service.py:68] - Configuring SQL LLM with deterministic settings: temperature=0.0, top_p=0.1, seed=42
2026-02-11 00:25:49 - rag_app.sql_service - INFO - [sql_service.py:115] - Using Pinecone for SQL Agent memory (index: vanna-sql-training)
2026-02-11 00:25:49 - rag_app.sql_service - INFO - [sql_service.py:135] - ✓ Vanna 2.0 Agent initialized successfully
2026-02-11 00:25:49 - rag_app - INFO - [main.py:1412] - Training Vanna on database schema and examples...
2026-02-11 00:25:49 - rag_app.sql_service - INFO - [sql_service.py:342] - Preparing schema context for Vanna 2.0...
2026-02-11 00:25:49 - rag_app.sql_service - INFO - [sql_service.py:348] - ✓ Schema context prepared for Vanna 2.0 Agent!
2026-02-11 00:25:49 - rag_app - INFO - [main.py:1414] - ✓ Text-to-SQL service initialized and trained!
2026-02-11 00:25:49 - rag_app - INFO - [main.py:1425] - Initializing document cache service (S3/local)...
2026-02-11 00:25:49 - rag_app - ERROR - [main.py:1429] - ✗ Failed to initialize document cache service: Unknown storage backend: s3 # options: local, s3
2026-02-11 00:25:49 - rag_app - WARNING - [main.py:1430] - Document uploads will work but caching will be unavailable.
2026-02-11 00:25:49 - rag_app - INFO - [main.py:1432] - ============================================================
2026-02-11 00:25:49 - rag_app - INFO - [main.py:1433] - API is ready!
2026-02-11 00:25:49 - rag_app - INFO - [main.py:1434] - ============================================================
2026-02-11 00:28:31 - rag_app - INFO - [main.py:1307] - Storage directories initialized: data/uploads, data/cached_chunks
2026-02-11 00:28:31 - rag_app - INFO - [main.py:1309] - ============================================================
2026-02-11 00:28:31 - rag_app - INFO - [main.py:1310] - Starting Multi-Source RAG + Text-to-SQL API...
2026-02-11 00:28:31 - rag_app - INFO - [main.py:1311] - ============================================================
2026-02-11 00:28:31 - rag_app - INFO - [main.py:1312] - Phase 0: Foundation Setup - COMPLETE
2026-02-11 00:28:31 - rag_app - INFO - [main.py:1313] - Phase 1: Document RAG MVP - COMPLETE
2026-02-11 00:28:31 - rag_app - INFO - [main.py:1314] - Phase 2: Text-to-SQL Foundation - COMPLETE
2026-02-11 00:28:31 - rag_app - INFO - [main.py:1315] - Phase 3: Query Routing - COMPLETE
2026-02-11 00:28:31 - rag_app - INFO - [main.py:1316] - Phase 4: Evaluation & Monitoring - COMPLETE
2026-02-11 00:28:31 - rag_app - INFO - [main.py:1317] - Phase 5: Polish & Documentation - COMPLETE
2026-02-11 00:28:31 - rag_app - INFO - [main.py:1318] - Phase 6: Docker Deployment - COMPLETE
2026-02-11 00:28:31 - rag_app - INFO - [main.py:1319] - ============================================================
2026-02-11 00:28:31 - rag_app - INFO - [main.py:1320] - ALL PHASES COMPLETE - PRODUCTION READY!
2026-02-11 00:28:31 - rag_app - INFO - [main.py:1321] - ============================================================
2026-02-11 00:28:31 - rag_app - INFO - [main.py:1327] - Initializing OPIK monitoring...
2026-02-11 00:28:32 - rag_app - INFO - [main.py:1344] - ✓ OPIK monitoring initialized!
2026-02-11 00:28:32 - rag_app - INFO - [main.py:1363] - Initializing query cache service (Redis)...
2026-02-11 00:28:33 - rag_app - INFO - [main.py:1368] - ✓ Query cache service initialized and connected!
2026-02-11 00:28:33 - rag_app - INFO - [main.py:1369] -   Cache TTL: RAG=3600s, Embeddings=604800s, SQL Gen=86400s, SQL Results=900s
2026-02-11 00:28:33 - rag_app - INFO - [main.py:1387] - Initializing Document RAG services...
2026-02-11 00:28:35 - rag_app.vector_service - INFO - [vector_service.py:64] - Connected to Pinecone index: medical-documents
2026-02-11 00:28:35 - rag_app - ERROR - [main.py:1402] - Failed to initialize RAG services: Unknown storage backend: s3 # options: local, s3
Traceback (most recent call last):
  File "/Users/admin/Desktop/Personal/Rag-System-design/app/main.py", line 1394, in initialize_services
    advanced_rag_service = AdvancedRAGPipelineService(
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/admin/Desktop/Personal/Rag-System-design/app/services/advanced_rag_pipeline_service.py", line 40, in __init__
    self.bm25_service = BM25Service()
                        ^^^^^^^^^^^^^
  File "/Users/admin/Desktop/Personal/Rag-System-design/app/services/bm25_service.py", line 27, in __init__
    self.cache_service = cache_service or CacheService()
                                          ^^^^^^^^^^^^^^
  File "/Users/admin/Desktop/Personal/Rag-System-design/app/services/cache_service.py", line 56, in __init__
    raise ValueError(f"Unknown storage backend: {backend_type}")
ValueError: Unknown storage backend: s3 # options: local, s3
2026-02-11 00:28:35 - rag_app - WARNING - [main.py:1403] - Document RAG features will be unavailable.
2026-02-11 00:28:35 - rag_app - INFO - [main.py:1408] - Initializing Text-to-SQL service...
2026-02-11 00:28:35 - rag_app.sql_service - INFO - [sql_service.py:68] - Configuring SQL LLM with deterministic settings: temperature=0.0, top_p=0.1, seed=42
2026-02-11 00:28:35 - rag_app.sql_service - INFO - [sql_service.py:115] - Using Pinecone for SQL Agent memory (index: vanna-sql-training)
2026-02-11 00:28:35 - rag_app.sql_service - INFO - [sql_service.py:135] - ✓ Vanna 2.0 Agent initialized successfully
2026-02-11 00:28:35 - rag_app - INFO - [main.py:1412] - Training Vanna on database schema and examples...
2026-02-11 00:28:35 - rag_app.sql_service - INFO - [sql_service.py:342] - Preparing schema context for Vanna 2.0...
2026-02-11 00:28:35 - rag_app.sql_service - INFO - [sql_service.py:348] - ✓ Schema context prepared for Vanna 2.0 Agent!
2026-02-11 00:28:35 - rag_app - INFO - [main.py:1414] - ✓ Text-to-SQL service initialized and trained!
2026-02-11 00:28:35 - rag_app - INFO - [main.py:1425] - Initializing document cache service (S3/local)...
2026-02-11 00:28:35 - rag_app - ERROR - [main.py:1429] - ✗ Failed to initialize document cache service: Unknown storage backend: s3 # options: local, s3
2026-02-11 00:28:35 - rag_app - WARNING - [main.py:1430] - Document uploads will work but caching will be unavailable.
2026-02-11 00:28:35 - rag_app - INFO - [main.py:1432] - ============================================================
2026-02-11 00:28:35 - rag_app - INFO - [main.py:1433] - API is ready!
2026-02-11 00:28:35 - rag_app - INFO - [main.py:1434] - ============================================================
2026-02-11 00:28:57 - rag_app - INFO - [main.py:1449] - Shutting down Multi-Source RAG + Text-to-SQL API...
2026-02-11 00:30:21 - rag_app - INFO - [main.py:1307] - Storage directories initialized: /tmp/uploads, /tmp/cached_chunks
2026-02-11 00:30:21 - rag_app - INFO - [main.py:1309] - ============================================================
2026-02-11 00:30:21 - rag_app - INFO - [main.py:1310] - Starting Multi-Source RAG + Text-to-SQL API...
2026-02-11 00:30:21 - rag_app - INFO - [main.py:1311] - ============================================================
2026-02-11 00:30:21 - rag_app - INFO - [main.py:1312] - Phase 0: Foundation Setup - COMPLETE
2026-02-11 00:30:21 - rag_app - INFO - [main.py:1313] - Phase 1: Document RAG MVP - COMPLETE
2026-02-11 00:30:21 - rag_app - INFO - [main.py:1314] - Phase 2: Text-to-SQL Foundation - COMPLETE
2026-02-11 00:30:21 - rag_app - INFO - [main.py:1315] - Phase 3: Query Routing - COMPLETE
2026-02-11 00:30:21 - rag_app - INFO - [main.py:1316] - Phase 4: Evaluation & Monitoring - COMPLETE
2026-02-11 00:30:21 - rag_app - INFO - [main.py:1317] - Phase 5: Polish & Documentation - COMPLETE
2026-02-11 00:30:21 - rag_app - INFO - [main.py:1318] - Phase 6: Docker Deployment - COMPLETE
2026-02-11 00:30:21 - rag_app - INFO - [main.py:1319] - ============================================================
2026-02-11 00:30:21 - rag_app - INFO - [main.py:1320] - ALL PHASES COMPLETE - PRODUCTION READY!
2026-02-11 00:30:21 - rag_app - INFO - [main.py:1321] - ============================================================
2026-02-11 00:30:21 - rag_app - INFO - [main.py:1327] - Initializing OPIK monitoring...
2026-02-11 00:30:21 - rag_app - INFO - [main.py:1344] - ✓ OPIK monitoring initialized!
2026-02-11 00:30:21 - rag_app - INFO - [main.py:1363] - Initializing query cache service (Redis)...
2026-02-11 00:30:22 - rag_app - INFO - [main.py:1368] - ✓ Query cache service initialized and connected!
2026-02-11 00:30:22 - rag_app - INFO - [main.py:1369] -   Cache TTL: RAG=3600s, Embeddings=604800s, SQL Gen=86400s, SQL Results=900s
2026-02-11 00:30:22 - rag_app - INFO - [main.py:1387] - Initializing Document RAG services...
2026-02-11 00:30:25 - rag_app.vector_service - INFO - [vector_service.py:64] - Connected to Pinecone index: medical-documents
2026-02-11 00:30:35 - rag_app.cache_service - WARNING - [cache_service.py:50] - Failed to initialize S3 storage: S3 bucket 'my-rag-cache-bucket' does not exist. Falling back to local.
2026-02-11 00:31:10 - rag_app.cross_encoder_reranking_service - INFO - [cross_encoder_reranking_service.py:43] - Cross-encoder model loaded: cross-encoder/ms-marco-MiniLM-L-6-v2
2026-02-11 00:31:22 - rag_app - INFO - [main.py:1397] - ✓ Document RAG services initialized!
2026-02-11 00:31:25 - rag_app - INFO - [main.py:1408] - Initializing Text-to-SQL service...
2026-02-11 00:31:27 - rag_app.sql_service - INFO - [sql_service.py:68] - Configuring SQL LLM with deterministic settings: temperature=0.0, top_p=0.1, seed=42
2026-02-11 00:31:27 - rag_app.sql_service - INFO - [sql_service.py:115] - Using Pinecone for SQL Agent memory (index: vanna-sql-training)
2026-02-11 00:31:27 - rag_app.sql_service - INFO - [sql_service.py:135] - ✓ Vanna 2.0 Agent initialized successfully
2026-02-11 00:31:27 - rag_app - INFO - [main.py:1412] - Training Vanna on database schema and examples...
2026-02-11 00:31:27 - rag_app.sql_service - INFO - [sql_service.py:342] - Preparing schema context for Vanna 2.0...
2026-02-11 00:31:27 - rag_app.sql_service - INFO - [sql_service.py:348] - ✓ Schema context prepared for Vanna 2.0 Agent!
2026-02-11 00:31:27 - rag_app - INFO - [main.py:1414] - ✓ Text-to-SQL service initialized and trained!
2026-02-11 00:31:27 - rag_app - INFO - [main.py:1425] - Initializing document cache service (S3/local)...
2026-02-11 00:31:33 - rag_app.cache_service - WARNING - [cache_service.py:50] - Failed to initialize S3 storage: S3 bucket 'my-rag-cache-bucket' does not exist. Falling back to local.
2026-02-11 00:31:33 - rag_app - INFO - [main.py:1427] - ✓ Document cache service initialized!
2026-02-11 00:31:33 - rag_app - INFO - [main.py:1432] - ============================================================
2026-02-11 00:31:33 - rag_app - INFO - [main.py:1433] - API is ready!
2026-02-11 00:31:33 - rag_app - INFO - [main.py:1434] - ============================================================
2026-02-11 00:32:31 - rag_app.bm25_service - WARNING - [bm25_service.py:95] - BM25: No cached documents found to index
2026-02-11 00:32:31 - rag_app.bm25_service - WARNING - [bm25_service.py:95] - BM25: No cached documents found to index
2026-02-11 00:32:31 - rag_app.bm25_service - WARNING - [bm25_service.py:95] - BM25: No cached documents found to index
2026-02-11 00:32:31 - rag_app.bm25_service - WARNING - [bm25_service.py:95] - BM25: No cached documents found to index
2026-02-11 00:32:31 - rag_app.bm25_service - WARNING - [bm25_service.py:95] - BM25: No cached documents found to index
2026-02-11 00:32:57 - rag_app.vector_service - INFO - [vector_service.py:64] - Connected to Pinecone index: medical-documents
2026-02-11 22:28:37 - rag_app - INFO - [main.py:1307] - Storage directories initialized: /tmp/uploads, /tmp/cached_chunks
2026-02-11 22:28:37 - rag_app - INFO - [main.py:1309] - ============================================================
2026-02-11 22:28:37 - rag_app - INFO - [main.py:1310] - Starting Multi-Source RAG + Text-to-SQL API...
2026-02-11 22:28:37 - rag_app - INFO - [main.py:1311] - ============================================================
2026-02-11 22:28:37 - rag_app - INFO - [main.py:1312] - Phase 0: Foundation Setup - COMPLETE
2026-02-11 22:28:37 - rag_app - INFO - [main.py:1313] - Phase 1: Document RAG MVP - COMPLETE
2026-02-11 22:28:37 - rag_app - INFO - [main.py:1314] - Phase 2: Text-to-SQL Foundation - COMPLETE
2026-02-11 22:28:37 - rag_app - INFO - [main.py:1315] - Phase 3: Query Routing - COMPLETE
2026-02-11 22:28:37 - rag_app - INFO - [main.py:1316] - Phase 4: Evaluation & Monitoring - COMPLETE
2026-02-11 22:28:37 - rag_app - INFO - [main.py:1317] - Phase 5: Polish & Documentation - COMPLETE
2026-02-11 22:28:37 - rag_app - INFO - [main.py:1318] - Phase 6: Docker Deployment - COMPLETE
2026-02-11 22:28:37 - rag_app - INFO - [main.py:1319] - ============================================================
2026-02-11 22:28:37 - rag_app - INFO - [main.py:1320] - ALL PHASES COMPLETE - PRODUCTION READY!
2026-02-11 22:28:37 - rag_app - INFO - [main.py:1321] - ============================================================
2026-02-11 22:28:37 - rag_app - INFO - [main.py:1327] - Initializing OPIK monitoring...
2026-02-11 22:28:38 - rag_app - INFO - [main.py:1344] - ✓ OPIK monitoring initialized!
2026-02-11 22:28:38 - rag_app - INFO - [main.py:1363] - Initializing query cache service (Redis)...
2026-02-11 22:28:39 - rag_app - INFO - [main.py:1368] - ✓ Query cache service initialized and connected!
2026-02-11 22:28:39 - rag_app - INFO - [main.py:1369] -   Cache TTL: RAG=3600s, Embeddings=604800s, SQL Gen=86400s, SQL Results=900s
2026-02-11 22:28:39 - rag_app - INFO - [main.py:1387] - Initializing Document RAG services...
2026-02-11 22:28:41 - rag_app.vector_service - INFO - [vector_service.py:64] - Connected to Pinecone index: medical-documents
2026-02-11 22:28:48 - rag_app.cache_service - WARNING - [cache_service.py:50] - Failed to initialize S3 storage: S3 bucket 'my-rag-cache-bucket' does not exist. Falling back to local.
2026-02-11 22:29:12 - rag_app.cross_encoder_reranking_service - INFO - [cross_encoder_reranking_service.py:43] - Cross-encoder model loaded: cross-encoder/ms-marco-MiniLM-L-6-v2
2026-02-11 22:29:12 - rag_app - INFO - [main.py:1397] - ✓ Document RAG services initialized!
2026-02-11 22:29:12 - rag_app - INFO - [main.py:1408] - Initializing Text-to-SQL service...
2026-02-11 22:29:12 - rag_app.sql_service - INFO - [sql_service.py:68] - Configuring SQL LLM with deterministic settings: temperature=0.0, top_p=0.1, seed=42
2026-02-11 22:29:12 - rag_app.sql_service - INFO - [sql_service.py:115] - Using Pinecone for SQL Agent memory (index: vanna-sql-training)
2026-02-11 22:29:12 - rag_app.sql_service - INFO - [sql_service.py:135] - ✓ Vanna 2.0 Agent initialized successfully
2026-02-11 22:29:12 - rag_app - INFO - [main.py:1412] - Training Vanna on database schema and examples...
2026-02-11 22:29:12 - rag_app.sql_service - INFO - [sql_service.py:342] - Preparing schema context for Vanna 2.0...
2026-02-11 22:29:12 - rag_app.sql_service - INFO - [sql_service.py:348] - ✓ Schema context prepared for Vanna 2.0 Agent!
2026-02-11 22:29:12 - rag_app - INFO - [main.py:1414] - ✓ Text-to-SQL service initialized and trained!
2026-02-11 22:29:12 - rag_app - INFO - [main.py:1425] - Initializing document cache service (S3/local)...
2026-02-11 22:29:19 - rag_app.cache_service - WARNING - [cache_service.py:50] - Failed to initialize S3 storage: S3 bucket 'my-rag-cache-bucket' does not exist. Falling back to local.
2026-02-11 22:29:19 - rag_app - INFO - [main.py:1427] - ✓ Document cache service initialized!
2026-02-11 22:29:19 - rag_app - INFO - [main.py:1432] - ============================================================
2026-02-11 22:29:19 - rag_app - INFO - [main.py:1433] - API is ready!
2026-02-11 22:29:19 - rag_app - INFO - [main.py:1434] - ============================================================
2026-02-11 22:31:38 - rag_app.bm25_service - WARNING - [bm25_service.py:95] - BM25: No cached documents found to index
2026-02-11 22:31:38 - rag_app.bm25_service - WARNING - [bm25_service.py:95] - BM25: No cached documents found to index
2026-02-11 22:31:38 - rag_app.bm25_service - WARNING - [bm25_service.py:95] - BM25: No cached documents found to index
2026-02-11 22:31:38 - rag_app.bm25_service - WARNING - [bm25_service.py:95] - BM25: No cached documents found to index
2026-02-11 22:31:38 - rag_app.bm25_service - WARNING - [bm25_service.py:95] - BM25: No cached documents found to index
2026-02-11 22:31:46 - rag_app.vector_service - INFO - [vector_service.py:64] - Connected to Pinecone index: medical-documents
